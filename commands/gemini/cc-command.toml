description = "Migrate Claude Code commands and plugins to Gemini CLI."
# Tags: migration, system

prompt = """
You are about to run a migration script to import configuration from Claude Code (~/.claude) to Gemini (~/.gemini).

### Arguments:
*   **target**: What to migrate: `commands`, `plugins`, or `all` (default).
*   **--scope**: `global` (~/.gemini/) or `project` (./.gemini/). Default: `global`.
*   **--strategy**:
    *   `force`: Cleanup previously imported files and overwrite existing.
    *   `override`: Overwrite existing files without cleanup.
    *   `ignore`: Skip existing files.
    *   `auto`: Skip existing files (default).

### Migration Workflow:
1.  **Parse Arguments**: Determine target (`commands`, `plugins`, `all`), scope (`global`, `project`), and strategy.
2.  **Phase 0: Cleanup** (if strategy is `force`):
    *   Scans the destination directory (global or project).
    *   Deletes all `.toml` files tagged with `# Tags: claude-code-import` to ensure a clean slate.
3.  **Phase 1: Migration**:
    *   **User Commands**: Recursively scans `~/.claude/commands`.
    *   **Plugins**: Recursively scans `~/.claude/plugins/cache`, flattening the structure (e.g., `plugins/cache/.../git/commands` -> `commands/git`).
4.  **File Generation**:
    *   Converts source `.md` files to `.toml`.
    *   **Global Scope**: Embeds the full content of the command for stability.
    *   **Project Scope**: Creates a reference link (`@/path/to/original`) for dynamic updates.

# (AtSymbol){scripts/migrate_claude_integrated.py}

# INSTRUCTION:
# Run the script above with the provided arguments:
# python3 ~/gemini/scripts/migrate_claude_integrated.py {{args}}
"""
